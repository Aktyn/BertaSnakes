@import './global.scss';

$size: 350px;//200
$mobileSize: 200px;
$playBtnSize: 230px;
$bottomSize: 20px;

.header {
	grid-area: header;

	box-shadow: 0px 0px 10px #0008;
	
	$anim-func: 0.5s cubic-bezier(.36,.07,.19,.97);

	.upper {
		position: relative;
		height: $size;
		overflow: hidden;
		
		transition: height $anim-func;

		.background {
			position: absolute;
			height: 100vh;
			left: 0px;
			right: 0px;
			top: 0px;
			
			transform: translateZ(-8px) scale(2);
            transform-origin: center;

			background-image: url('../img/header_bgs/header2.jpg');
			background-repeat: repeat;
			background-size: cover;
			//background-attachment: fixed;
			//filter: blur(5px);

			z-index: 1;
		}

		.header-content {
			//background-color: #006064a0;
			background-color: rgba(nth($palette, 6), 0.66);

			* {
				font-family: LuckiestGuy, Roboto-Regular, Arial, serif;
			}

			position: absolute;
			z-index: 2;
			width: 100%;
			height: 100%;
			left: 0px;
			top: 0px;

			display: grid;
			grid-template-areas: "navigator play separator";
			grid-template-columns: 1fr fit-content(100%) 1fr;
			grid-template-rows: auto;
			align-items: center;

			.play-btn-wrapper {
				grid-area: play;
				// filter: drop-shadow(0px 3px 3px #0006);
				filter: drop-shadow(0px 5px 3px #0004);
				user-select: none;

				& > * {
					display: block;
					line-height: $playBtnSize;
					height: $playBtnSize;
					
					font-size: 50px;

					padding: 0px 50px;
					
					text-shadow: 0px 2px 5px #0004;
					clip-path: polygon(0% 50%, 25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%);

					background-color: #5a9698;
		
					position: relative;
					z-index: 2;

					transition: color $anim-func, background-color $anim-func,
						height $anim-func, line-height $anim-func;

					&::before {
						content: "";
						position: absolute;
						display: block;
						z-index: 1;
						left: 0px;
						top: 0px;
						margin: auto;
						height: 100%;
						width: 100%;
						background-color: #fff;
						clip-path: polygon(0% 50%, 25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%);
						transform: scale(0);
						opacity: 0;

						transition: transform $anim-func, opacity $anim-func;
					}

					&:hover {
						background-color: #ef5350;
						color: #ef5350;
						&::before {
							opacity: 1;
							transform: scale(0.85, 0.9);
						}
					}

					span {
						position: relative;
						z-index: 2;
					}
				}
			}

			nav {
				grid-area: navigator;
				display: flex;
				flex-direction: column;
				flex-wrap: wrap;
				align-items: center;
			   	justify-content: center;
				max-height: $size;

				& > * {
					display: block;
					font-size: 30px;
					background-color: transparent;
					box-shadow: none !important;
					padding: 0px;
					font-weight: normal;
					color: #fff;
					transition: text-shadow 0.2s ease-in-out;
					&:hover {
						//color: #ef9a9a;
						$outlineCol: #ef5350;
						$outlineSize: 1px;
						text-shadow: #{-$outlineSize} 0px 0px $outlineCol,
							$outlineSize 0px 0px $outlineCol,
							0px #{-$outlineSize} 0px $outlineCol,
							0px $outlineSize 0px $outlineCol,
							#{-$outlineSize} $outlineSize 0px $outlineCol,
							$outlineSize $outlineSize 0px $outlineCol,
							#{-$outlineSize} #{-$outlineSize} 0px $outlineCol,
							$outlineSize #{-$outlineSize} 0px $outlineCol,
							0px 0px $outlineSize $outlineCol;
					}
					
					&.navigator-play, &.navigator-account {
						display: none;
					}
				}
			}
		}
	}

	.header-bottom {
		width: 100%;
		height: $bottomSize;
		background-color: nth($palette, 8);

		display: grid;
		grid-template-columns: $bottomSize auto $bottomSize;
		align-items: center;
		justify-content: space-between;

		.home-link {
			width: $bottomSize;
			height: $bottomSize;

			background-image: url('../img/icons/home.svg');
			opacity: 0.4;

			&:hover {
				opacity: 1;
			}
		}
	}
	
	&.compact {
		.upper {
			height: $mobileSize;
			
			.play-btn-wrapper > * {
				height: min($mobileSize, $playBtnSize);
				line-height: min($mobileSize, $playBtnSize);
			}
		}
	}

	@media (max-width: 600px) {//move play button to navigator
		.header-content {
			grid-template-areas: "navigator" !important;
			grid-template-columns: auto !important;
			
			.play-btn-wrapper {
				display: none;
			}
			
			.navigator-play {
				display: initial !important;
			}
		}
	}
	
	@media (max-width: 400px) {
		.upper {
			height: $mobileSize;
		}
		.navigator-account {
			display: initial !important;
		}
	}
}